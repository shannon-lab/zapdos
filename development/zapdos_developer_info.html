<!DOCTYPE html><head><meta charset="UTF-8"><title>Zapdos Developer Information | Zapdos</title><link href="../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/zapdos.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Zapdos</a><a href="https://github.com/shannon-lab/zapdos" class="right"><img src="../media/framework/github-logo.png" class="github-mark"></img><img src="../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="a900ac3e-a75f-42a0-b61d-c8a5e1735dde" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="cd1af3bb-1e69-45b0-bcf1-97bc49529df1" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="780c399e-8a85-46ea-abe1-ce6100b7dc92" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../citing.html">Citing</a></li></ul><a href="#" class="sidenav-trigger" data-target="62427a1b-9a2a-4a13-a2dc-9937438be5bc"><i class="material-icons">menu</i></a><ul class="sidenav" id="62427a1b-9a2a-4a13-a2dc-9937438be5bc"><li><a href="#!" class="dropdown-trigger" data-target="60246e54-6aaa-43ba-a417-f7a685be772c" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="9cf64392-6306-4a30-8634-52d67b8b2295" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="51e53e37-01f1-4d29-8595-1272ef2196e8" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../citing.html">Citing</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="a900ac3e-a75f-42a0-b61d-c8a5e1735dde"><li><a href="../getting_started/installation.html">Installation</a></li><li><a href="../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../getting_started/zapdos_meshing.html">Generating Meshes</a></li></ul><ul class="dropdown-content" id="cd1af3bb-1e69-45b0-bcf1-97bc49529df1"><li><a href="../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="contributing.html">Contributing Guidelines</a></li><li><a href="code_standards.html">Code Standards</a></li><li><a href="../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="780c399e-8a85-46ea-abe1-ce6100b7dc92"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="moose_developer_info.html">MOOSE Developer Information</a></li></ul><ul class="dropdown-content" id="60246e54-6aaa-43ba-a417-f7a685be772c"><li><a href="../getting_started/installation.html">Installation</a></li><li><a href="../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../getting_started/zapdos_meshing.html">Generating Meshes</a></li></ul><ul class="dropdown-content" id="9cf64392-6306-4a30-8634-52d67b8b2295"><li><a href="../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="contributing.html">Contributing Guidelines</a></li><li><a href="code_standards.html">Code Standards</a></li><li><a href="../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="51e53e37-01f1-4d29-8595-1272ef2196e8"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="moose_developer_info.html">MOOSE Developer Information</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">development</span><a href="#" class="breadcrumb">zapdos_developer_info</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="4249e144-82d2-4209-becc-5210a63fe112" data-section-level="1" data-section-text="Zapdos Developer Information"><h1 id="zapdos-developer-information">Zapdos Developer Information</h1><p>This page is meant for Zapdos developers and will change over time as development practices and processes change - please refer back to this page regularly. If MOOSE user and developer information is desired, please refer to the <a href="moose_developer_info.html">MOOSE Developer Information (external links!)</a> page.</p><section class="scrollspy" id="c82dd3d6-02a9-4742-bcb8-abd26ac76e38" data-section-level="2" data-section-text="Update and Build a New Docker Container"><h2 id="update-and-build-a-new-docker-container">Update and Build a New Docker Container</h2><div style=";text-align:left"><p>The Zapdos docker container image should be updated whenever Zapdos source code or submodules (CRANE, Squirrel, or MOOSE) are updated and those changes are merged into the master branch. Whenever the MOOSE submodule is updated, in particular, the submodule git commit hash must be copied and entered into the <code>Dockerfile</code> so that the proper MOOSE docker image can be used with the Zapdos image.</p></div><p>To build a new docker container, first fetch the most up-to-date version of the Zapdos master branch. Assuming that Zapdos is stored in <code>~/projects/</code> and that your <code>upstream</code> remote is referencing <a href="https://github.com/shannon-lab/zapdos.git">shannon-lab/zapdos</a>:</p><pre class="moose-pre"><code class="language-bash">
cd ~/projects/zapdos
git fetch upstream
git checkout master
git rebase upstream/master
</code></pre><p>Once your local master branch is up-to-date, the <code>build_socker.sh</code> script can be used to create two new images, one tagged with the most recent git commit hash for the master branch and one tagged <code>latest</code>. The script has two parameters:</p><ul class="browser-default"><li><p><code>ZAPDOS_DIR</code> - the current Zapdos directory (set in the environment, or on the command line when the script is run). This parameter is required! </p></li><li><p><code>PUSH</code> - a boolean value that sets whether the built packages should be pushed to the <code>shannonlab/zapdos</code> Docker Hub repository when the build is completed (defaults to <code>0</code>)</p></li></ul><p>Example usage of the script is outlined as follows. First, start the script from the Zapdos directory:</p><pre class="moose-pre"><code class="language-bash">
cd ~/projects/zapdos
ZAPDOS_DIR=$(pwd) scripts/build_docker.sh
</code></pre><p>In this case, the docker images will remain local and will not be pushed to Docker Hub (<code>PUSH=0</code>). Example output for this command is shown below:</p><pre class="moose-pre"><code class="language-bash">
% ZAPDOS_DIR=$(pwd) scripts/build_docker.sh
[+] Building 0.5s (8/8) FINISHED
 =&gt; [internal] load build definition from Dockerfile                                                                                                     0.0s
 =&gt; =&gt; transferring dockerfile: 44B                                                                                                                      0.0s
 =&gt; [internal] load .dockerignore                                                                                                                        0.0s
 =&gt; =&gt; transferring context: 2B                                                                                                                          0.0s
 =&gt; [internal] load metadata for docker.io/idaholab/moose:d73fc06368c8b33549cd1ec86f8863920789a878                                                       0.4s
 =&gt; [1/4] FROM docker.io/idaholab/moose:d73fc06368c8b33549cd1ec86f8863920789a878@sha256:89d12bcc14b06e71d5f0e267412b718dfe1d63c984b2bb67dcc1b76f0f995cc  0.0s
pick 79e7daa2 Add docker build and upload script
 =&gt; CACHED [2/4] WORKDIR /opt                                                                                                                            0.0s
 =&gt; CACHED [3/4] RUN git clone -b master https://github.com/shannon-lab/zapdos.git ; cd zapdos ; git submodule update --init crane squirrel ; make -j $  0.0s
 =&gt; CACHED [4/4] WORKDIR /opt/zapdos                                                                                                                     0.0s
 =&gt; exporting to image                                                                                                                                   0.0s
 =&gt; =&gt; exporting layers                                                                                                                                  0.0s
 =&gt; =&gt; writing image sha256:26565cd5c868ecd702d727fa9c2a95caf24d9741e629d1cc3f39261b9b592570                                                             0.0s
 =&gt; =&gt; naming to docker.io/shannonlab/zapdos:2c4a214d4d55106ac6c8c9058e3b224a46ba416d                                                                    0.0s

Use &#x27;docker scan&#x27; to run Snyk tests against images to find vulnerabilities and learn how to fix them

INFO: Push to Docker Hub disabled. If desired in the future, run this script
      with PUSH=1 in your environment or run the following two commands:

      docker push shannonlab/zapdos:2c4a214d4d55106ac6c8c9058e3b224a46ba416d
      docker push shannonlab/zapdos:latest
</code></pre><p></p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#c82dd3d6-02a9-4742-bcb8-abd26ac76e38" class="tooltipped" data-position="left" data-tooltip="Update and Build a New Docker Container">Update and Build a New Docker Container</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../js/init.js"></script><script type="text/javascript" src="../js/navigation.js"></script><script type="text/javascript" src="../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../js/search_index.js"></script><script type="text/javascript" src="../js/sqa_moose.js"></script>