<!DOCTYPE html><head><meta charset="UTF-8"><title>MooseException | Zapdos</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/zapdos.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Zapdos</a><a href="https://github.com/shannon-lab/zapdos" class="right"><img src="../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="59961614-f110-4968-a244-6cef743fd55c" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="455a2738-ffcd-4ea6-91d5-621aac2f76de" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8d822c8a-1bf9-4af8-9e5e-f23334941e05" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#" class="sidenav-trigger" data-target="4237d96b-4729-4033-b232-0fa79dbd1f4f"><i class="material-icons">menu</i></a><ul class="sidenav" id="4237d96b-4729-4033-b232-0fa79dbd1f4f"><li><a href="#!" class="dropdown-trigger" data-target="abf6e3e2-9014-4c93-b377-f219f4c6661e" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="aea51483-7cbd-4af5-9d3d-c15ece3cb9e6" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="fcf4023e-83f0-4eb6-bcc1-c69386f61a82" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="59961614-f110-4968-a244-6cef743fd55c"><li><a href="../../getting_started/installation.html">Installation</a></li><li><a href="../../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../../getting_started/zapdos_meshing.html">Generating Meshes</a></li><li><a href="../../tutorial/index.html">Tutorial Slides</a></li></ul><ul class="dropdown-content" id="455a2738-ffcd-4ea6-91d5-621aac2f76de"><li><a href="../../syntax/zapdos_only.html">Zapdos Input Syntax</a></li><li><a href="../../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="../../examples/crane_examples.html">CRANE Examples</a></li><li><a href="../../development/contributing.html">Contributing Guidelines</a></li><li><a href="../../development/code_standards.html">Code Standards</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="8d822c8a-1bf9-4af8-9e5e-f23334941e05"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="../../development/zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="../../development/moose_developer_info.html">MOOSE Developer Information</a></li></ul><ul class="dropdown-content" id="abf6e3e2-9014-4c93-b377-f219f4c6661e"><li><a href="../../getting_started/installation.html">Installation</a></li><li><a href="../../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../../getting_started/zapdos_meshing.html">Generating Meshes</a></li><li><a href="../../tutorial/index.html">Tutorial Slides</a></li></ul><ul class="dropdown-content" id="aea51483-7cbd-4af5-9d3d-c15ece3cb9e6"><li><a href="../../syntax/zapdos_only.html">Zapdos Input Syntax</a></li><li><a href="../../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="../../examples/crane_examples.html">CRANE Examples</a></li><li><a href="../../development/contributing.html">Contributing Guidelines</a></li><li><a href="../../development/code_standards.html">Code Standards</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="fcf4023e-83f0-4eb6-bcc1-c69386f61a82"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="../../development/zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="../../development/moose_developer_info.html">MOOSE Developer Information</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">base</span><a href="#" class="breadcrumb">MooseException</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="a03af455-e8b6-4055-9dec-1e9f7825687f" data-section-level="1" data-section-text="MooseException"><h1 id="mooseexception">MooseException</h1><p><code>MooseException</code> is a class that derives from the standard C++ <code>exception</code> class. Its purpose is to give developers an opportunity to terminate a solve, while informing MOOSE that it should perform the necessary steps to clean up the current stack, notify other threads/processors of the error and communicate with the solver that the current solve has failed. When applicable and possible, the solver will allow MOOSE to cut the time step and make another attempt at a solve.</p><p>This exception should be used directly in user code when non-fatal situations are encountered such as the inability to converge a local Newton solve in a material, or if a interpolated value from a variable or lookup table ends up out-of-range.</p><p>MOOSE is set up to catch a <code>MooseException</code> within several user defined callbacks that occur during the solver&#x27;s <code>computeResidual</code> and <code>computeJacobian</code> callbacks. Note that these callbacks also include the evaluation of several other objects such as <code>Materials</code>, <code>Constraints</code>, and occasionally objects such as <code>Postprocessors</code> (when requested). This makes it possible to cut the time step and retry the solve by throwing a <code>MooseException</code> from most user-defined objects within MOOSE.</p><section class="scrollspy" id="574d699f-3b21-4a38-bd11-8de8a3cc17a3" data-section-level="2" data-section-text="How it works"><h2 id="how-it-works">How it works</h2><p>MOOSE Wraps several threaded sections in <code>PARALLEL_TRY</code>/<code>PARALLEL_CATCH</code> macros (See <code>SystemBase.h</code>). <code>PARALLEL_TRY</code> does nothing (but provide scope). <code>PARALLEL_CATCH</code> invokes the <code>FEProblemBase::checkExceptionAndStopSolve()</code> (See <code>FEProblemBase.h</code>) routine after the threaded section has terminated and all threads on the same processor agree on the error status. checkExceptionAndStopSolve() then does parallel communication of the exception to ensure that the same exception exists on all processors. If there is an exception, that method sets a variable that results in the solver being notified that the solution has diverged due to not-a-number (NaN) entries in the residual vector during the next residual evaluation. This in turn results in the time step being cut and the solution being attempted again, in the same manner that other failed solutions of a time step are handled. </p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#574d699f-3b21-4a38-bd11-8de8a3cc17a3" class="tooltipped" data-position="left" data-tooltip="How it works">How it works</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>