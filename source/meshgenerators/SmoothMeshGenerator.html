<!DOCTYPE html><head><meta charset="UTF-8"><title>SmoothMeshGenerator | Zapdos</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/zapdos.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Zapdos</a><a href="https://github.com/shannon-lab/zapdos" class="right"><img src="../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="f70d417f-dd4e-493d-9de0-dc474af32321" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="9f7da50b-e2b5-4fa4-b46f-3857757544a7" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="3ee368ba-9146-49ca-9af3-328ff3861f67" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#" class="sidenav-trigger" data-target="56818b8e-fda7-41dd-a29e-b67b77726e97"><i class="material-icons">menu</i></a><ul class="sidenav" id="56818b8e-fda7-41dd-a29e-b67b77726e97"><li><a href="#!" class="dropdown-trigger" data-target="3eb4ca78-26d6-41fc-984c-2181f53852bf" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="126aa98e-faec-4dc2-86d1-96cb64ba299b" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="9cfd43cd-a270-49ef-944a-03030cc58bfe" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="f70d417f-dd4e-493d-9de0-dc474af32321"><li><a href="../../getting_started/installation.html">Installation</a></li><li><a href="../../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../../getting_started/zapdos_meshing.html">Generating Meshes</a></li><li><a href="../../tutorial/index.html">Tutorial Slides</a></li></ul><ul class="dropdown-content" id="9f7da50b-e2b5-4fa4-b46f-3857757544a7"><li><a href="../../syntax/zapdos_only.html">Zapdos Input Syntax</a></li><li><a href="../../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="../../examples/crane_examples.html">CRANE Examples</a></li><li><a href="../../development/contributing.html">Contributing Guidelines</a></li><li><a href="../../development/code_standards.html">Code Standards</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="3ee368ba-9146-49ca-9af3-328ff3861f67"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="../../development/zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="../../development/moose_developer_info.html">MOOSE Developer Information</a></li></ul><ul class="dropdown-content" id="3eb4ca78-26d6-41fc-984c-2181f53852bf"><li><a href="../../getting_started/installation.html">Installation</a></li><li><a href="../../getting_started/using_zapdos.html">Using Zapdos</a></li><li><a href="../../getting_started/zapdos_meshing.html">Generating Meshes</a></li><li><a href="../../tutorial/index.html">Tutorial Slides</a></li></ul><ul class="dropdown-content" id="126aa98e-faec-4dc2-86d1-96cb64ba299b"><li><a href="../../syntax/zapdos_only.html">Zapdos Input Syntax</a></li><li><a href="../../syntax/index.html">Complete Code Syntax</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/libmesh/classes.html">libMesh Doxygen</a></li><li><a href="../../a-to-z.html">Zapdos A to Z Index</a></li><li><a href="../../examples/crane_examples.html">CRANE Examples</a></li><li><a href="../../development/contributing.html">Contributing Guidelines</a></li><li><a href="../../development/code_standards.html">Code Standards</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="9cfd43cd-a270-49ef-944a-03030cc58bfe"><li><a href="https://github.com/shannon-lab/zapdos/discussions">Zapdos Discussions Forum</a></li><li><a href="../../development/zapdos_developer_info.html">Zapdos Developer Information</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussions Forum</a></li><li><a href="https://mooseframework.inl.gov/">MOOSE Homepage</a></li><li><a href="../../development/moose_developer_info.html">MOOSE Developer Information</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">SmoothMeshGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="1a05f8c8-5078-4e71-8343-a66f67746a4b" data-section-level="1" data-section-text="SmoothMeshGenerator"><h1 id="smoothmeshgenerator">SmoothMeshGenerator</h1><p>Utilizes the specified smoothing algorithm to attempt to improve mesh quality.</p><p>The <code>SmoothMeshGenerator</code> supports two mesh-smoothing algorithms, which are described below.</p><section class="scrollspy" id="e926c030-d442-4387-8f77-47388636fd8c" data-section-level="2" data-section-text="Laplace Algorithm"><h2 id="laplace-algorithm">Laplace Algorithm</h2><p>The Laplace smoothing algorithm utilizes a classical Laplacian smoother that iteratively relocates interior nodes to the average of their neighbors. It supports 1D/2D/3D meshes and tries to preserve exterior boundaries by fixing boundary nodes in place. Subdomain boundaries are not preserved. This implementation currently requires a replicated mesh.</p></section><section class="scrollspy" id="c785e10d-bf1b-4449-9077-40ee811d0ea8" data-section-level="2" data-section-text="Variational Algorithm"><h2 id="variational-algorithm">Variational Algorithm</h2><p>The variational smoothing algorithm is a Newton-based variational optimizer that minimizes a mixed <em>distortion–dilation</em> energy. It supports 1D/2D/3D meshes, preserves exterior boundaries by constraining nodes, can optionally preserve subdomain (block) boundaries, and can <em>untangle some</em> tangled meshes before smoothing. Exterior/subdomain boundaries are preserved by only allowing node movement that leaves the domain unchanged. Internally it builds a libMesh system that assembles the gradient (residual) and analytic Hessian (jacobian) of the energy and solves to a stationary point.</p><section id="ba6ae42b-3a70-4d30-830e-cf15e72ae6ef" data-section-level="3" data-section-text="Mathematical Formulation"><h3 id="mathematical-formulation">Mathematical Formulation</h3><p>The Variational Mesh Smoother minimizes a <em>distortion–dilation energy functional</em>, <span class="moose-katex-inline-equation" id="moose-equation-85d3988f-47f4-4022-9436-e4d1c178ef52"><script>var element = document.getElementById("moose-equation-85d3988f-47f4-4022-9436-e4d1c178ef52");katex.render("I_h(R)", element, {displayMode:false,throwOnError:false});</script></span>, originally proposed by <a href="#branets2005variationalgrid">Branets (2005)</a>:</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-de2a582f-1e38-4941-8b98-d0b04aa9a052"></span><script>var element = document.getElementById("moose-equation-de2a582f-1e38-4941-8b98-d0b04aa9a052");katex.render("I_h(R)=\\sum_{c=1}^{N_{\\text{elem}}} \\int_{\\hat{\\Omega}_c} E_\\theta(S_c(R))\\, d\\hat{\\xi}\\,", element, {displayMode:true,throwOnError:false});</script></span><p>where:</p><ul class="browser-default"><li><p><span class="moose-katex-inline-equation" id="moose-equation-371ce6b3-9e85-4abe-a096-de06ffd51b5e"><script>var element = document.getElementById("moose-equation-371ce6b3-9e85-4abe-a096-de06ffd51b5e");katex.render("R", element, {displayMode:false,throwOnError:false});</script></span> is the vector of nodal coordinates </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-ed08b575-e240-4421-bde5-3abb6bc1de5d"><script>var element = document.getElementById("moose-equation-ed08b575-e240-4421-bde5-3abb6bc1de5d");katex.render("S_c", element, {displayMode:false,throwOnError:false});</script></span> is the spatially-dependent jacobian matrix of the target-to-physical element mapping in element <span class="moose-katex-inline-equation" id="moose-equation-56350f8d-b938-4ee4-b4a0-ed6fdc3e6df2"><script>var element = document.getElementById("moose-equation-56350f8d-b938-4ee4-b4a0-ed6fdc3e6df2");katex.render("c", element, {displayMode:false,throwOnError:false});</script></span> </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-42c40cbe-0964-454b-ae8a-d5a6a4896ad5"><script>var element = document.getElementById("moose-equation-42c40cbe-0964-454b-ae8a-d5a6a4896ad5");katex.render("E_\\theta", element, {displayMode:false,throwOnError:false});</script></span> is the spatially-dependent distortion-dilation energy density </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-5e3eb7df-37ae-4581-a677-88471aae2e24"><script>var element = document.getElementById("moose-equation-5e3eb7df-37ae-4581-a677-88471aae2e24");katex.render("\\hat{\\Omega}_c", element, {displayMode:false,throwOnError:false});</script></span> is the target element corresponding to physical element <span class="moose-katex-inline-equation" id="moose-equation-86380b4f-6334-4db9-9412-9246fc50ddfb"><script>var element = document.getElementById("moose-equation-86380b4f-6334-4db9-9412-9246fc50ddfb");katex.render("c", element, {displayMode:false,throwOnError:false});</script></span> </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-7bcb83d6-9f74-40af-a5dd-f63c45314e3f"><script>var element = document.getElementById("moose-equation-7bcb83d6-9f74-40af-a5dd-f63c45314e3f");katex.render("\\hat{\\xi}", element, {displayMode:false,throwOnError:false});</script></span> is the target space coordinate</p></li></ul><p>The relationship between the target and reference elements is discussed below in the Notes &amp; Limitations section. Note that for each element, integration is over the target space, not the physical space. Minimization is achieved using a damped Newton method with analytically derived gradient and Hessian of <span class="moose-katex-inline-equation" id="moose-equation-2e8b79c9-669f-456b-92ff-87cad8d6b074"><script>var element = document.getElementById("moose-equation-2e8b79c9-669f-456b-92ff-87cad8d6b074");katex.render("E_\\theta(S)", element, {displayMode:false,throwOnError:false});</script></span>.</p><p>For each mesh element, the local energy density is</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-fad48628-ace7-4cdf-b369-b336457f62c2"></span><script>var element = document.getElementById("moose-equation-fad48628-ace7-4cdf-b369-b336457f62c2");katex.render("E_\\theta(S) = \\theta\\,\\mu(S) + (1 - \\theta)\\,\\beta(S)", element, {displayMode:true,throwOnError:false});</script></span><p>where:</p><ul class="browser-default"><li><p><span class="moose-katex-inline-equation" id="moose-equation-33e36b9a-4a44-4606-9fa3-3cb196918c61"><script>var element = document.getElementById("moose-equation-33e36b9a-4a44-4606-9fa3-3cb196918c61");katex.render("0 \\le \\theta \\le 1", element, {displayMode:false,throwOnError:false});</script></span> is the <em>dilation weight</em> (<code>dilation_weight</code> in input) </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-382a22e9-1a29-4a7d-943a-416e515212ca"><script>var element = document.getElementById("moose-equation-382a22e9-1a29-4a7d-943a-416e515212ca");katex.render("\\mu(S)", element, {displayMode:false,throwOnError:false});</script></span>, penalizes <em>volumetric dilation</em> from the target element </p></li><li><p><span class="moose-katex-inline-equation" id="moose-equation-84922074-1d82-479a-9d04-8105a69f7be2"><script>var element = document.getElementById("moose-equation-84922074-1d82-479a-9d04-8105a69f7be2");katex.render("\\beta(S)", element, {displayMode:false,throwOnError:false});</script></span>, penalizes <em>shape distortion</em> from the target element</p></li></ul><p>The <em>distortion metric</em> is</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-e8989a4d-2e73-4c62-9dfb-a31f5e6e6507"></span><script>var element = document.getElementById("moose-equation-e8989a4d-2e73-4c62-9dfb-a31f5e6e6507");katex.render("\\beta(S)=\\dfrac{\\left(\\tfrac{1}{n}\\,\\mathrm{tr}(S^{\\mathsf T}S)\\right)^{n/2}}{\\chi_\\varepsilon(\\det S)}", element, {displayMode:true,throwOnError:false});</script></span><p>and the <em>dilation metric</em> is</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-174423d6-f5b4-42f7-a6fc-5d71fad3565a"></span><script>var element = document.getElementById("moose-equation-174423d6-f5b4-42f7-a6fc-5d71fad3565a");katex.render("\\mu(S)=\\dfrac{1}{2\\,\\chi_\\varepsilon(\\det S)}\\left(v + \\dfrac{(\\det S)^2}{v}\\right)", element, {displayMode:true,throwOnError:false});</script></span><p>Definitions:</p><div recursive form="['left', 'left']" class="moose-table-div"><table><thead><tr><th style=";text-align:left">Symbol</th><th style=";text-align:left">Meaning</th></tr></thead><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-6799709b-dfa4-4448-a755-edfe35d9e0cb"><script>var element = document.getElementById("moose-equation-6799709b-dfa4-4448-a755-edfe35d9e0cb");katex.render("n", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">spatial dimension of the mesh (1, 2, or 3)</td></tr></tbody><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-db81ed8d-1e42-4360-b553-0e9fed80fc55"><script>var element = document.getElementById("moose-equation-db81ed8d-1e42-4360-b553-0e9fed80fc55");katex.render("\\det S", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">jacobian determinant of the target-to-physical element mapping</td></tr></tbody><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-f8015fed-0cd0-41cf-9fcb-a28e6077824b"><script>var element = document.getElementById("moose-equation-f8015fed-0cd0-41cf-9fcb-a28e6077824b");katex.render("\\mathrm{tr}(S^{\\mathsf T}S)", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">trace of the specified matrix</td></tr></tbody><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-9ddf3a5c-4af9-42e8-a587-f47311dce533"><script>var element = document.getElementById("moose-equation-9ddf3a5c-4af9-42e8-a587-f47311dce533");katex.render("v", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">reference (i.e., desired) <span class="moose-katex-inline-equation" id="moose-equation-0b0854ea-c098-4fed-8049-f74c21c2d170"><script>var element = document.getElementById("moose-equation-0b0854ea-c098-4fed-8049-f74c21c2d170");katex.render("\\det S", element, {displayMode:false,throwOnError:false});</script></span>, or &quot;volume&quot; for each element</td></tr></tbody><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-0da94474-dbae-4599-bcfa-40471a9cd393"><script>var element = document.getElementById("moose-equation-0da94474-dbae-4599-bcfa-40471a9cd393");katex.render("\\chi_\\varepsilon(x) = \\tfrac{1}{2}(x + \\sqrt{\\varepsilon^2 + x^2})", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">smooth barrier ensuring well-defined metrics for degenerate or folded elements (i.e., <span class="moose-katex-inline-equation" id="moose-equation-01821ca7-0a37-4f3d-9b6a-70a296fbf10a"><script>var element = document.getElementById("moose-equation-01821ca7-0a37-4f3d-9b6a-70a296fbf10a");katex.render("\\det S < 0", element, {displayMode:false,throwOnError:false});</script></span>)</td></tr></tbody><tbody><tr><td style=";text-align:left"><span class="moose-katex-inline-equation" id="moose-equation-cfa09751-ff09-4ed8-b46f-b6eba79f05fc"><script>var element = document.getElementById("moose-equation-cfa09751-ff09-4ed8-b46f-b6eba79f05fc");katex.render("\\varepsilon", element, {displayMode:false,throwOnError:false});</script></span></td><td style=";text-align:left">small nonzero regularization constant</td></tr></tbody></table></div></section><section id="f5e53286-0e96-41e5-9ce4-85d1c26a700d" data-section-level="3" data-section-text="Notes & Limitations"><h3 id="notes-limitations">Notes &amp; Limitations</h3><section id="8118fdce-c015-4376-9331-7fa3063646b7" data-section-level="4" data-section-text="Target Elements"><h4 id="target-elements">Target Elements</h4><p>The target element defines the &quot;ideal&quot; shape for a given element type. For some element types, the target element is the same as the reference element used by libMesh. For other types, the target element differs from the reference element. This is reflected in the table below.</p><div recursive form="['left', 'left', 'left']" class="moose-table-div"><table><thead><tr><th style=";text-align:left">Element Type</th><th style=";text-align:left">Reference Element</th><th style=";text-align:left">Target Element</th></tr></thead><tbody><tr><td style=";text-align:left">EDGE</td><td style=";text-align:left">line</td><td style=";text-align:left">line</td></tr></tbody><tbody><tr><td style=";text-align:left">TRI</td><td style=";text-align:left">right triangle</td><td style=";text-align:left">equilateral triangle</td></tr></tbody><tbody><tr><td style=";text-align:left">Polygon</td><td style=";text-align:left">regular polygon</td><td style=";text-align:left">regular polygon</td></tr></tbody><tbody><tr><td style=";text-align:left">QUAD</td><td style=";text-align:left">square</td><td style=";text-align:left">square</td></tr></tbody><tbody><tr><td style=";text-align:left">PRISM</td><td style=";text-align:left">right triangular base</td><td style=";text-align:left">equilateral triangular base, equal face areas</td></tr></tbody><tbody><tr><td style=";text-align:left">HEX</td><td style=";text-align:left">cube</td><td style=";text-align:left">cube</td></tr></tbody><tbody><tr><td style=";text-align:left">PYRAMID</td><td style=";text-align:left">square base, isosceles triangular sides</td><td style=";text-align:left">square base, equilateral triangular sides</td></tr></tbody><tbody><tr><td style=";text-align:left">TET</td><td style=";text-align:left">right tet</td><td style=";text-align:left">regular tet</td></tr></tbody><tbody><tr><td style=";text-align:left">Polyhedron</td><td style=";text-align:left">not supported</td><td style=";text-align:left">not supported</td></tr></tbody></table></div></section><section id="98fbfec9-05a4-4848-bdc2-db459ec37f75" data-section-level="4" data-section-text="Reference Volume ( ) var element = document.getElementById("moose-equation-4d3998a8-81dc-4072-82f2-4ca88007ce83");katex.render("v", element, {displayMode:false,throwOnError:false});"><h4 id="reference-volume">Reference Volume (<span class="moose-katex-inline-equation" id="moose-equation-4d3998a8-81dc-4072-82f2-4ca88007ce83"><script>var element = document.getElementById("moose-equation-4d3998a8-81dc-4072-82f2-4ca88007ce83");katex.render("v", element, {displayMode:false,throwOnError:false});</script></span>)</h4><p>The term reference &quot;volume&quot; is a bit misleading. A more descriptive, albeit longer, term is &quot;reference target-to-physical jacobian determinant&quot;. Basically, <span class="moose-katex-inline-equation" id="moose-equation-f34957ea-e154-4237-bdf5-442ac89dcddd"><script>var element = document.getElementById("moose-equation-f34957ea-e154-4237-bdf5-442ac89dcddd");katex.render("v", element, {displayMode:false,throwOnError:false});</script></span> is the jacobian determinant that we want the smoother to push our mesh elements towards. The term &quot;volume&quot; is used here because the jacobian determinant is proportional to the volume of an element. When a given mesh element has <span class="moose-katex-inline-equation" id="moose-equation-7570196e-158a-472f-a785-d3c8960990f3"><script>var element = document.getElementById("moose-equation-7570196e-158a-472f-a785-d3c8960990f3");katex.render("\\det S \\neq v\\,,", element, {displayMode:false,throwOnError:false});</script></span> the element is considered to be &quot;dilated&quot; from an element with <span class="moose-katex-inline-equation" id="moose-equation-c00e12ed-e7a3-4404-87d1-905037b1d890"><script>var element = document.getElementById("moose-equation-c00e12ed-e7a3-4404-87d1-905037b1d890");katex.render("\\det S = v\\,.", element, {displayMode:false,throwOnError:false});</script></span></p><p>The reference volume is automatically calculated as the volumetric average of <span class="moose-katex-inline-equation" id="moose-equation-87e1de0e-aa10-4415-b952-a2c1bbaa55bf"><script>var element = document.getElementById("moose-equation-87e1de0e-aa10-4415-b952-a2c1bbaa55bf");katex.render("\\det S", element, {displayMode:false,throwOnError:false});</script></span> for each element, averaged over the number of elements in the mesh:</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-273e523b-ac8f-4451-8b93-259b0d4ca0bd"></span><script>var element = document.getElementById("moose-equation-273e523b-ac8f-4451-8b93-259b0d4ca0bd");katex.render("v = \\dfrac{1}{N_\\text{elem}} \\sum_{c=1}^{N_\\text{elem}} \\dfrac{\\int_{\\hat{\\Omega}_c} \\det S_c d\\hat{\\xi}}{\\int_{\\hat{\\Omega}_c} d\\hat{\\xi}}", element, {displayMode:true,throwOnError:false});</script></span></section><section id="bf7f69e5-49ee-4b01-963f-0156b478e243" data-section-level="4" data-section-text="Element Order"><h4 id="element-order">Element Order</h4><p>The variational smoother rejects mixed-order meshes; all active elements must share the same default order. Higher-order element types are supported.</p></section><section id="7e60f44e-7fa2-4df8-9e43-a58767e2b196" data-section-level="4" data-section-text="Untangling"><h4 id="untangling">Untangling</h4><p>The mesh is considered tangled if, at any quadrature point, <span class="moose-katex-inline-equation" id="moose-equation-91f7e02a-155e-4543-b891-e20407cef21f"><script>var element = document.getElementById("moose-equation-91f7e02a-155e-4543-b891-e20407cef21f");katex.render("\\det S \\leq 0", element, {displayMode:false,throwOnError:false});</script></span>. If the mesh is initially tangled, the variational smoother runs an <em>untangling stage</em> using only the distortion term (temporarily sets the dilation weight to 0), then a <em>smoothing stage</em> with the requested weights. Not all tangled meshes can be untangled. The barrier term <span class="moose-katex-inline-equation" id="moose-equation-c8cd1424-d1ba-4f93-b7d3-28bc23279e1d"><script>var element = document.getElementById("moose-equation-c8cd1424-d1ba-4f93-b7d3-28bc23279e1d");katex.render("\\chi_\\varepsilon(x)", element, {displayMode:false,throwOnError:false});</script></span> behaves like <span class="moose-katex-inline-equation" id="moose-equation-100f2f0f-b841-4aa0-ba5e-22710f1a61ca"><script>var element = document.getElementById("moose-equation-100f2f0f-b841-4aa0-ba5e-22710f1a61ca");katex.render("x", element, {displayMode:false,throwOnError:false});</script></span> for <span class="moose-katex-inline-equation" id="moose-equation-d68ec547-1862-4498-994b-ec9a1f28a632"><script>var element = document.getElementById("moose-equation-d68ec547-1862-4498-994b-ec9a1f28a632");katex.render("x \\gg 0", element, {displayMode:false,throwOnError:false});</script></span>, is nonzero at <span class="moose-katex-inline-equation" id="moose-equation-88ae9b56-f0e5-4523-acbc-1b9db8ac7568"><script>var element = document.getElementById("moose-equation-88ae9b56-f0e5-4523-acbc-1b9db8ac7568");katex.render("x = 0", element, {displayMode:false,throwOnError:false});</script></span>, and asymptotes to 0 as <span class="moose-katex-inline-equation" id="moose-equation-435def52-6b32-4a1b-81a0-5bd00a0f9640"><script>var element = document.getElementById("moose-equation-435def52-6b32-4a1b-81a0-5bd00a0f9640");katex.render("x", element, {displayMode:false,throwOnError:false});</script></span> approaches <span class="moose-katex-inline-equation" id="moose-equation-c544c379-a883-457c-8bb9-20a924926077"><script>var element = document.getElementById("moose-equation-c544c379-a883-457c-8bb9-20a924926077");katex.render("-\\infty", element, {displayMode:false,throwOnError:false});</script></span>. The use of this term in place of <span class="moose-katex-inline-equation" id="moose-equation-0809cc25-7863-4ebe-8397-edeba7bab90c"><script>var element = document.getElementById("moose-equation-0809cc25-7863-4ebe-8397-edeba7bab90c");katex.render("\\det S", element, {displayMode:false,throwOnError:false});</script></span> in denominators allows the smoother to untangle meshes with degenerate/folded elements.</p><p>Once the mesh has been untangled, <span class="moose-katex-inline-equation" id="moose-equation-8a96ae25-cfd3-404c-a963-e8c98161a400"><script>var element = document.getElementById("moose-equation-8a96ae25-cfd3-404c-a963-e8c98161a400");katex.render("\\varepsilon", element, {displayMode:false,throwOnError:false});</script></span> is set to zero to prevent re-tangling during the smoothing solve.</p></section><section id="3f12ccb0-399f-453d-85c6-3a112a305df8" data-section-level="4" data-section-text="Optimal Solutions"><h4 id="optimal-solutions">Optimal Solutions</h4><p>It can be shown that, for the smoothing solve, when <span class="moose-katex-inline-equation" id="moose-equation-477e3e96-7ce4-4242-9208-900adb398916"><script>var element = document.getElementById("moose-equation-477e3e96-7ce4-4242-9208-900adb398916");katex.render("\\varepsilon = 0", element, {displayMode:false,throwOnError:false});</script></span> and <span class="moose-katex-inline-equation" id="moose-equation-32b6b4f1-697e-426f-9c93-21d276ae9d26"><script>var element = document.getElementById("moose-equation-32b6b4f1-697e-426f-9c93-21d276ae9d26");katex.render("\\chi_\\varepsilon(\\det S) = \\det S", element, {displayMode:false,throwOnError:false});</script></span>, the distortion metric <span class="moose-katex-inline-equation" id="moose-equation-457608bd-3a07-4c3e-a1a2-1c26bc1220e9"><script>var element = document.getElementById("moose-equation-457608bd-3a07-4c3e-a1a2-1c26bc1220e9");katex.render("\\beta(S)", element, {displayMode:false,throwOnError:false});</script></span> is minimized by any constant-scaled special orthogonal matrix such that</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-465bd0ff-e908-4a66-a2cc-95d9ec78a207"></span><script>var element = document.getElementById("moose-equation-465bd0ff-e908-4a66-a2cc-95d9ec78a207");katex.render("S^TS = cI \\,,\\qquad \\det S = c^n \\,,\\qquad \\forall c > 0", element, {displayMode:true,throwOnError:false});</script></span><p>The implication of this is that the distortion metric is minimized by a mesh element that is a scaled rotation of the target element. This makes sense because the target element is our definition of the &quot;ideal&quot; smooth element shape.</p><p>For untangled meshes, the dilation metric simplifies to</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-e81fce66-b830-4223-9aac-54eaa2c12289"></span><script>var element = document.getElementById("moose-equation-e81fce66-b830-4223-9aac-54eaa2c12289");katex.render("\\mu(S)=\\dfrac{1}{2}\\left(\\dfrac{v}{\\det S} + \\dfrac{\\det S}{v}\\right)", element, {displayMode:true,throwOnError:false});</script></span><p>It can be shown that the dilation metric is minimized by any <span class="moose-katex-inline-equation" id="moose-equation-456782dc-4bf1-4f58-b4aa-d2242458d1c6"><script>var element = document.getElementById("moose-equation-456782dc-4bf1-4f58-b4aa-d2242458d1c6");katex.render("S", element, {displayMode:false,throwOnError:false});</script></span> such that <span class="moose-katex-inline-equation" id="moose-equation-29e0ce60-1ab2-4755-9376-92cb1d418890"><script>var element = document.getElementById("moose-equation-29e0ce60-1ab2-4755-9376-92cb1d418890");katex.render("\\det S = v", element, {displayMode:false,throwOnError:false});</script></span>.</p></section><section id="bef00224-7bbb-4cdd-97e0-9d4b28df6088" data-section-level="4" data-section-text="Boundary / Subdomain Control"><h4 id="boundary-subdomain-control">Boundary/Subdomain Control</h4><p>Geometric constraints are automatically detected and applied to boundary nodes; if <code>preserve_subdomain_boundaries = true</code>, nodes along interfaces of differing block IDs are likewise constrained so subdomain boundaries do not drift. Boundary/subdomain interface nodes are allowed to slide along boundaries/interfaces, so long as those surfaces are linear (e.g., a line in 2D meshes or a plane in 3D meshes). No action is necessary to enable sliding boundary nodes as they are automatically detected.</p><p>If the surfaces are not linear, the boundary/subdomain nodes are constrained (i.e., fixed) to their original location. It has been observed in some cases that fixing boundary nodes on nonlinear boundaries significantly restricts the space of optimally smooth solutions. As a result, the original mesh may not change significantly. This is because fixing boundary nodes reduces the space of possible smooth boundary elements. These restrictions then propagate into the mesh interior. In the future, it will be useful to allow boundary nodes to slide along nonlinear boundaries. This is not currently possible because libMesh does not yet support nonlinear constraints.</p><p>For further theoretical background, see: <a href="#branets2005variationalgrid">Branets (2005)</a></p></section></section><section class="scrollspy" id="70d0e2ba-0e2d-4e9e-b11d-e111b73b4576" data-section-level="2" data-section-text="References"><h2 id="references">References</h2><div class="moose-bibliography"><ol><li id="branets2005variationalgrid">Larisa&nbsp;Vladimirovna Branets.
<em>A Variational Grid Optimization Method Based on a Local Cell Quality Metric</em>.
Ph.D. dissertation, The University of Texas at Austin, Austin, Texas, August 2005.
URL: <a href="https://repositories.lib.utexas.edu/items/a4ec528e-1f03-4534-84ab-338e31e89e55">https://repositories.lib.utexas.edu/items/a4ec528e-1f03-4534-84ab-338e31e89e55</a>.<a href="#77f10bf8-22ec-4e53-810d-a9dc079818f1" class="modal-trigger moose-bibtex-modal" style="padding-left:10px;">[BibTeX]</a><div class="modal" id="77f10bf8-22ec-4e53-810d-a9dc079818f1"><div class="modal-content"><pre style="line-height:1.25;"><code class="language-latex">@phdthesis{branets2005variationalgrid,
    author = "Branets, Larisa Vladimirovna",
    title = "A Variational Grid Optimization Method Based on a Local Cell Quality Metric",
    school = "The University of Texas at Austin",
    year = "2005",
    address = "Austin, Texas",
    month = "August",
    type = "Ph.D. dissertation",
    url = "https://repositories.lib.utexas.edu/items/a4ec528e-1f03-4534-84ab-338e31e89e55"
}
</code></pre></div></div></li></ol></div></section><section class="scrollspy" id="bbe1e05d-b3bd-47e3-922a-a6da375cc716" data-section-level="2" data-section-text="Examples"><h2 id="examples">Examples</h2><section id="2edea5d6-6632-405d-8aed-b7a12c8e80a1" data-section-level="3" data-section-text="Example 1 — Laplacian smoothing"><h3 id="example-1-laplacian-smoothing">Example 1 — Laplacian smoothing</h3><p>The <code>iterations</code> parameter controls the number of smoothing steps to do. Each smoothing step will iterate the mesh toward the “true” smoothed mesh (as measured by the Laplacian smoother). After a few iterations the mesh typically reaches a steady state.</p><p>As an example, here is an original mesh going through 12 iterations of this smoother:</p><div class="card moose-float" style="width:50%;padding:20px;" id="laplace-smoother"><div class="card-content"><picture class="materialboxed moose-image" role="button" tabindex="0"><img src="../../media/mesh/smooth.gif" alt="12 iterations of Laplacian smoothing.  Coloring is by element quality (higher is better)."></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 1: </span><span class="moose-caption-text" id="laplace-smoother">12 iterations of Laplacian smoothing.  Coloring is by element quality (higher is better).</span></p></div></div></section><section id="99110e07-20de-4432-873a-8332e1f7808a" data-section-level="3" data-section-text="Example 2 — Variational smoothing ( fixed boundary nodes )"><h3 id="example-2-variational-smoothing-fixed-boundary-nodes">Example 2 — Variational smoothing (fixed boundary nodes)</h3><p>Here is an example of the variational smoother applied to a mesh with 3 subdomains and nonlinear boundaries. Note that the locations of the (subdomain) boundary nodes do not change.</p><pre style="max-height:350px;"><code class="language-moose">[Mesh&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Mesh/index.html&quot;}&gt;&gt;&gt;]
  [fmg]
    type = FileMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Read a mesh from a file.&quot;, &quot;href&quot;: &quot;FileMeshGenerator.html&quot;}&gt;&gt;&gt;
    file&lt;&lt;&lt;{&quot;description&quot;: &quot;The filename to read.&quot;}&gt;&gt;&gt; = concentric_circle_mesh_in.e
  []

  [smooth]
    type = SmoothMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Utilizes the specified smoothing algorithm to attempt to improve mesh quality.&quot;, &quot;href&quot;: &quot;SmoothMeshGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to smooth.&quot;}&gt;&gt;&gt; = fmg
    algorithm&lt;&lt;&lt;{&quot;description&quot;: &quot;The smoothing algorithm to use.&quot;}&gt;&gt;&gt; = variational
  []
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#56f6093a-da7b-4df7-a4e2-8fb84a15db39">(moose/test/tests/meshgenerators/smooth_mesh_generator/variational_mesh_smoother_generator.i)</a><div class="card moose-float" style="width:50%;padding:20px;" id="variational-smoother-1"><div class="card-content"><picture class="materialboxed moose-image" role="button" tabindex="0"><img src="../../media/mesh/variational_smoother_ex1.png" alt="Variational smoother applied to mesh with nonlinear boundary. The original mesh is shown on the left and the smoothed mesh is shown on the right."></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 2: </span><span class="moose-caption-text" id="variational-smoother-1">Variational smoother applied to mesh with nonlinear boundary. The original mesh is shown on the left and the smoothed mesh is shown on the right.</span></p></div></div></section><section id="23c50e18-36f2-4b96-989c-acab604dcdcb" data-section-level="3" data-section-text="Example 3 — Variational smoothing ( sliding boundary nodes )"><h3 id="example-3-variational-smoothing-sliding-boundary-nodes">Example 3 — Variational smoothing (sliding boundary nodes)</h3><p>Here is an example of the variational smoother applied to a mesh with 2 subdomains and linear boundaries. Note that while the locations of the (subdomain) boundary nodes change, these boundaries are still preserved.</p><pre style="max-height:350px;"><code class="language-moose">[Mesh&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Mesh/index.html&quot;}&gt;&gt;&gt;]
  [gmg]
    type = GeneratedMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Create a line, square, or cube mesh with uniformly spaced or biased elements.&quot;, &quot;href&quot;: &quot;GeneratedMeshGenerator.html&quot;}&gt;&gt;&gt;
    dim&lt;&lt;&lt;{&quot;description&quot;: &quot;The dimension of the mesh to be generated&quot;}&gt;&gt;&gt; = 2
    nx&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the X direction&quot;}&gt;&gt;&gt; = 10
    ny&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the Y direction&quot;}&gt;&gt;&gt; = 10
    bias_x&lt;&lt;&lt;{&quot;description&quot;: &quot;The amount by which to grow (or shrink) the cells in the x-direction.&quot;}&gt;&gt;&gt; = 1.4
    bias_y&lt;&lt;&lt;{&quot;description&quot;: &quot;The amount by which to grow (or shrink) the cells in the y-direction.&quot;}&gt;&gt;&gt; = 1.4
    elem_type&lt;&lt;&lt;{&quot;description&quot;: &quot;The type of element from libMesh to generate (default: linear element for requested dimension)&quot;}&gt;&gt;&gt; = TRI3
  []

  [add_block]
    type = ParsedSubdomainMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Uses a parsed expression (`combinatorial_geometry`) to determine if an element (via its centroid) is inside the region defined by the expression and assigns a new block ID.&quot;, &quot;href&quot;: &quot;ParsedSubdomainMeshGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to modify&quot;}&gt;&gt;&gt; = gmg
    combinatorial_geometry&lt;&lt;&lt;{&quot;description&quot;: &quot;Function expression encoding a combinatorial geometry&quot;}&gt;&gt;&gt; = &#x27;x &gt; 0.35 &amp; y &gt; 0.35 &amp; y &lt; 0.7&#x27;
    block_id&lt;&lt;&lt;{&quot;description&quot;: &quot;Subdomain id to set for inside of the combinatorial&quot;}&gt;&gt;&gt; = 1
  []

  [smooth]
    type = SmoothMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Utilizes the specified smoothing algorithm to attempt to improve mesh quality.&quot;, &quot;href&quot;: &quot;SmoothMeshGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to smooth.&quot;}&gt;&gt;&gt; = add_block
    algorithm&lt;&lt;&lt;{&quot;description&quot;: &quot;The smoothing algorithm to use.&quot;}&gt;&gt;&gt; = variational
  []
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#7f91ecff-8042-4692-b3a4-3ef203b5f229">(moose/test/tests/meshgenerators/smooth_mesh_generator/variational_mesh_smoother_generator_sliding_nodes.i)</a><div class="card moose-float" style="width:50%;padding:20px;" id="variational-smoother-2"><div class="card-content"><picture class="materialboxed moose-image" role="button" tabindex="0"><img src="../../media/mesh/variational_smoother_ex3_distorted.png" alt="Original mesh."></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 3: </span><span class="moose-caption-text" id="variational-smoother-2">Original mesh.</span></p></div></div><div class="card moose-float" style="width:50%;padding:20px;" id="inl-logo"><div class="card-content"><picture class="materialboxed moose-image" role="button" tabindex="0"><img src="../../media/mesh/variational_smoother_ex3_smoothed.png" alt="Variationally smoothed mesh."></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 4: </span><span class="moose-caption-text" id="inl-logo">Variationally smoothed mesh.</span></p></div></div></section></section><section class="scrollspy" id="a1e84f21-951b-49be-ae45-25d3d282a6c2" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="cc92787b-3ebf-4890-bfdc-f92785285205" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">input</span><span class="moose-parameter-header-description">The mesh we want to smooth.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshGeneratorName</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The mesh we want to smooth.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="b7b5d90c-0a2d-424e-ad50-30374be7ed24" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">absolute_residual_tolerance</span><span class="moose-parameter-header-default">1e-12</span><span class="moose-parameter-header-description">Variational algorithm only: solver absolute residual tolerance.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-12</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Variational algorithm only: solver absolute residual tolerance.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">algorithm</span><span class="moose-parameter-header-default">variational</span><span class="moose-parameter-header-description">The smoothing algorithm to use.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>variational</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>variational, laplace</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The smoothing algorithm to use.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">dilation_weight</span><span class="moose-parameter-header-default">0.5</span><span class="moose-parameter-header-description">Variational algorithm only: the weight of the dilation metric. The distortion metric is given weight 1 - dilation_weight.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0.5</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-doc-range"><span>Range:</span>dilation_weight >= 0.0 & dilation_weight <= 1.0</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Variational algorithm only: the weight of the dilation metric. The distortion metric is given weight 1 - dilation_weight.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">iterations</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Laplace algorithm only: the number of smoothing iterations to do.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Laplace algorithm only: the number of smoothing iterations to do.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">preserve_subdomain_boundaries</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Variational algorithm only: whether the input mesh's subdomain boundaries should be preserved during the smoothing process.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Variational algorithm only: whether the input mesh's subdomain boundaries should be preserved during the smoothing process.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">relative_residual_tolerance</span><span class="moose-parameter-header-default">1e-12</span><span class="moose-parameter-header-description">Variational algorithm only: solver relative residual tolerance.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-12</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Variational algorithm only: solver relative residual tolerance.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">verbosity</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Variational algorithm only: verbosity level between 0 and 100.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-doc-range"><span>Range:</span>0 <= verbosity <= 100</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Variational algorithm only: verbosity level between 0 and 100.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="3ce7fa59-d82e-4b9e-9067-650e10b620eb" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">save_with_name</span><span class="moose-parameter-header-description">Keep the mesh from this mesh generator in memory with the name specified</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Keep the mesh from this mesh generator in memory with the name specified</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section><section id="a0d2f937-d1c2-4cc3-944d-96936a20e9cf" data-section-level="3" data-section-text="Debugging Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">nemesis</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to output the mesh file in the nemesisformat (only if output = true)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to output the mesh file in the nemesisformat (only if output = true)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">output</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to output the mesh file after generating the mesh</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to output the mesh file after generating the mesh</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">show_info</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to show mesh info after generating the mesh (bounding box, element types, sidesets, nodesets, subdomains, etc)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to show mesh info after generating the mesh (bounding box, element types, sidesets, nodesets, subdomains, etc)</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Debugging Parameters</h3></summary></details></section></section></section></section><div class="moose-modal modal" id="56f6093a-da7b-4df7-a4e2-8fb84a15db39"><div class="modal-content"><h4>(moose/test/tests/meshgenerators/smooth_mesh_generator/variational_mesh_smoother_generator.i)</h4><pre style="max-height:350px;"><code class="language-moose">[Mesh]
  [fmg]
    type = FileMeshGenerator
    file = concentric_circle_mesh_in.e
  []

  [smooth]
    type = SmoothMeshGenerator
    input = fmg
    algorithm = variational
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="7f91ecff-8042-4692-b3a4-3ef203b5f229"><div class="modal-content"><h4>(moose/test/tests/meshgenerators/smooth_mesh_generator/variational_mesh_smoother_generator_sliding_nodes.i)</h4><pre style="max-height:350px;"><code class="language-moose">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    bias_x = 1.4
    bias_y = 1.4
    elem_type = TRI3
  []

  [add_block]
    type = ParsedSubdomainMeshGenerator
    input = gmg
    combinatorial_geometry = &#x27;x &gt; 0.35 &amp; y &gt; 0.35 &amp; y &lt; 0.7&#x27;
    block_id = 1
  []

  [smooth]
    type = SmoothMeshGenerator
    input = add_block
    algorithm = variational
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#e926c030-d442-4387-8f77-47388636fd8c" class="tooltipped" data-position="left" data-tooltip="Laplace Algorithm">Laplace Algorithm</a></li><li><a href="#c785e10d-bf1b-4449-9077-40ee811d0ea8" class="tooltipped" data-position="left" data-tooltip="Variational Algorithm">Variational Algorithm</a></li><li><a href="#70d0e2ba-0e2d-4e9e-b11d-e111b73b4576" class="tooltipped" data-position="left" data-tooltip="References">References</a></li><li><a href="#bbe1e05d-b3bd-47e3-922a-a6da375cc716" class="tooltipped" data-position="left" data-tooltip="Examples">Examples</a></li><li><a href="#a1e84f21-951b-49be-ae45-25d3d282a6c2" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script><script type="text/javascript" src="../../js/moose_input_parser.js"></script>